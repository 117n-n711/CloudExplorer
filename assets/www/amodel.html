<!DOCTYPE html>
<html>  
	<head>
  		<meta charset="utf-8">
  		<title>AModel</title>
  		<link href="jqmobile/jquery.mobile-1.3.1.min.css" rel="stylesheet" type="text/css"/>
  		<link href="css/myicon.css" rel="stylesheet" type="text/css"/>
  		<link href="css/main.css" rel="stylesheet" type="text/css"/>
  		<link href="css/amodel.css" rel="stylesheet" type="text/css"/>
  		<script src="js/cordova.js" type="text/javascript"></script>
  		<script src="js/plugins/childbrowser.js" type="text/javascript"></script>
  		<script src="js/jquery-1.7.2.min.js" type="text/javascript"></script>
  		<script src="jqmobile/jquery.mobile-1.3.1.min.js" type="text/javascript"></script>
  		<script src="js/otherUtil.js" type="text/javascript"></script>
  		<script src="js/loadingDiv.js" type="text/javascript"></script>
  		<script src="js/jquery.scrollTo.js" type="text/javascript"></script>
  		<script src="js/familyTree.js" type="text/javascript"></script>
  		<script src="js/amodelUtil.js" type="text/javascript"></script>
  		<script src="js/main.js" type="text/javascript"></script>
 		<meta name="viewport" content="width=device-width, initial-scale=1">
	 	<script type="text/javascript">
	 		function onDeviceReadyInAmodel() {
    			document.addEventListener("backbutton", pressBack, false);
			}
			function pressBack()
			{
				if($.mobile.activePage.attr("id") == "page_family_tree")
					$.mobile.changePage("#page_amodel_operation");
				else if($.mobile.activePage.attr("id") == "page_add_family_member")
					$.mobile.changePage("#page_family_tree");
				else if($.mobile.activePage.attr("id") == "page_amodel_operation")
					gotoHome();
				else
					window.history.back(-1);
			}
			function onPageloadInAmodel()
			{
			  	document.addEventListener("deviceready", onDeviceReadyInAmodel, false);
			}
	 	</script>
	</head>
	<body onload="onDeviceReadyInAmodel()">
		<div id="page_amodel_operation" data-role="page" data-theme="c">
			<div data-role="header" data-position="fixed" data-id="fixedHeaderNav">
	    		<a href="javascript:gotoHome();" data-icon="home">彩云阁首页</a>
	    		<h1>灵魂之都</h1>
	  		</div>
	  		<div data-role="content">
				<div data-theme="d">
	      			<ul data-role="listview"  data-inset="true">
	      				<li>
	          				<a href="javascript:openFamilyTree();">
	            				<img src="assets/img/jiazucitang.png" height="65px">
	            				<h2>家族祠堂</h2>
	            				<p>展示阁主家族网上祠堂。</p>
	          				</a>	
	        			</li>
	         			<li>
	          				<a href="javascript:openMyAmodel();">
	            				<img src="assets/img/amodel.png" height="65px">    
	            				<h2>我的灵魂</h2>
	            				<p>展示阁主灵魂模型。</p>
	          				</a>
	        			</li>
	      			</ul>
	    		</div>
	  		</div>
		</div>
		
		<!-- 家族祠堂页面 -->
		<div data-role="page" id="page_family_tree" data-theme="c">
	  		<div data-role="header" data-position="fixed" data-id="fixedHeaderNav" data-tap-toggle="false">
	    		<a href="#" data-icon="back" data-rel="back">返回</a>
	    		<h1>家族祠堂</h1>
	    		<a href="javascript:openAddPersonToFamilyPage();" data-icon="plus" class="ui-btn-right">新增成员</a>
	  		</div>
	  		<div data-role="content" data-theme="a">
	  			<div class="main">
	  			</div>
	    		<div class="mainModel" style="display:none;">
	                <div class="topLevel">
	                	<div class="top">
	                		<div class="level_box">
	                       	 	<div class="level1" class="box" >
	                            	<div class="level1_img">
	                            		<img src="" width="100%" height="100%">
	                            	</div>
	                            	<div class="level1_name">
	                                	<span></span>
	                                	<span class="index_box"></span>
	                            	</div>
	                        	</div>
	                    	</div>
	                    	<div class="desc">
	                       	 	<span>第 1 代</span><br>
	                        	<span>共 1 人</span>
	                    	</div>
	                    </div>
	                </div>
	                <div class="amodel level">
	                    <div class="change left">
                        	<img src="assets/img/left_arrow.png" width="100%" height="100%">
                    	</div>
                    	<div class="change right">
                        	<img src="assets/img/right_arrow.png" width="100%" height="100%">
                    	</div>
	                    <div class="level_box">
	                        <div class="normal box">
	                            <div class="left_line line"></div>
	                            <div class="normal_img">
	                            	<img src="" width="100%" height="100%">
	                            </div>
	                            <div class="normal_name">
	                                <span></span>
	                                <span class="index_box"></span>
	                            </div>
	                        </div>
	                        <div class="normal box">
	                            <div class="middle_line line"></div>
	                            <div class="upper_middle_line"></div>
	                            <div class="normal_img">
	                            	<img src="" width="100%" height="100%">
	                            </div>
	                            <div class="normal_name">
	                                <span></span>
	                                <span class="index_box"></span>
	                            </div>
	                        </div>
	                        <div class="normal box">
	                            <div class="right_line line"></div>
	                            <div class="normal_img">
	                            <img src="" width="100%" height="100%">
	                            </div>
	                            <div class="normal_name">
	                                <span></span>
	                                <span class="index_box"></span>
	                            </div>
	                        </div>
	                    </div>
	                    
	                    <div class="desc">
	                        <span></span><br>
	                        <span></span>
	                    </div>
	                </div>
	            </div>
	  		</div>
		</div>
		
		<div data-role="page" id="page_add_family_member" data-theme="c">
	  		<div data-role="header" data-position="fixed" data-id="fixedHeaderNav">
	    		<a href="#" data-icon="back" data-rel="back">返回</a>
	    		<h1>家族成员添加</h1>
	  		</div>
	  		<div data-role="content" data-theme="c">
	    		<ul data-role="listview" data-inset="true">
	      			<li>
	        			<a href="#setPicPopupForAddPerson" data-rel="popup" data-transition="none">
	          				个人照片
	          				<span class="ui-li-aside cem-bounded">
	            				<img src="assets/img/person.jpg" class="ui-li-icon-right"/>
	            				<input type="hidden" class="person_image"></input>
	          				</span>
	        			</a>
	      			</li>
	    		</ul>
	    		
	    		<table class="demo_table">
	  				<tr>
	  					<td width="70px">姓名:<td>
	  					<td>
	  						<input type="text" class="realName"></input>
	  					</td>
	  				<tr>
	  				<tr>
	  					<td width="70px">性别:<td>
	  					<td>
	  						<select class="flip_gender" data-role="slider" data-mini="true">
	              				<option value="1">男</option>
	              				<option value="2">女</option>
	            			</select>
	  					</td>
	  				<tr>
	  				<tr>
	  					<td width="70px">辈分:<td>
	  					<td>
	  						<select class="family_level" data-mini="true" onchange="setFamilyFather(this.value);">
	  							<option value="0">请选择</option>
	  							<option value="2">第二代</option>
	  							<option value="3">第三代</option>
	  							<option value="4">第四代</option>
	  							<option value="5">第五代</option>
	  							<option value="6">第六代</option>
	  							<option value="7">第七代</option>
	            			</select>
	  					</td>
	  				<tr>
	  				<tr class="family_father_tr">
	  					<td width="70px">父亲:<td>
	  					<td>
	  						<select class="family_father" data-mini="true">
	  							<option value="0">请选择</option>
	  							<option value="1">李建成</option>
	  							<option value="2">李世民</option>
	  							<option value="3">李元吉</option>
	  							<option value="4">李元霸</option>
	            			</select>
	  					</td>
	  				<tr>
	  				<tr class="family_father_tr">
	  					<td width="70px">排行:<td>
	  					<td>
	  						<input type="text" class="family_order"></input>
	  					</td>
	  				<tr>
	  			</table>
	    		<a href="javascript:addToFamilyTree();" data-role="button" class="addToFamilyTree" data-theme="b">添加</a>
	    		
  			</div>
  			<div data-role="panel" id="setPicPopupForAddPerson" data-corners="false" data-theme="none" data-shadow="false" data-tolerance="0,0" data-position="right" data-display="reveal">
   					<button onclick="takePic(2);" data-theme="a" data-icon="grid" style="height:100px;">拍摄照片</button>
    				<button onclick="getPicFromPhone(2)" data-theme="a" data-icon="search">选择本地图片</button>
  			</div>
	  	</div>
	    
	    <!-- 灵魂查看页面 -->
	    <div data-role="page" id="page_amodel_detail" data-theme="c">
	  		<div data-role="header" data-position="fixed" data-id="fixedHeaderNav"  data-tap-toggle="false">
	    		<a href="#" data-icon="back" data-rel="back">返回</a>
	    		<h1>灵魂查看</h1>
	  		</div>
	  		<div data-role="content">
	        	<div data-theme="d">
	            	<div class="person_info">
	                	<div class="person_info_image">
	                		<a href="#setPicPopup" data-rel="popup" data-transition="none">
	                			<img class="image" width="100px" height ="100px">
	                		</a>
	                    </div>
	                    <div class="person_info_name">
	                    	<span class="name"></span>
	                    	<br><br>
	                    	<span class="level"></span>
	                    </div>
	                   
	                </div>
	            	<div data-role="collapsible">
	                    <h4>知识</h4>
	                    <p>精通四书五经。</p>
	               	</div>
	                <div data-role="collapsible">
	                    <h4>生理</h4>
	                    <p>身体强健，勤习武。</p>
	                </div>
	                <div data-role="collapsible">
	                    <h4>性格</h4>
	                    <p>帝王之术，善于用人。</p>
	                </div>
					<div data-role="collapsible">
	                    <h4>经历</h4>
	                    <p>参加多次战争，发动玄武门之变。</p>
	                </div>
	                <div data-role="collapsible">
	                    <h4>信念</h4>
	                    <p>道家思想。</p>
	                </div>
	                <div data-role="collapsible">
	                    <h4>环境</h4>
	                    <p>隋唐英雄，贞观之治。</p>
	                </div>
	    		</div>
	        </div>
	        <div data-role="footer" data-position="fixed" data-id="fixedFooterNav">
				<a href="javascript:exportAmodel();" data-icon="check" style="margin:10px;">导出模型</a>
				<a href="javascript:printAmodel();" data-icon="forward" style="float:right;margin:10px;">打印模型</a>
	        </div>
	        <div data-role="panel" id="setPicPopup" data-corners="false" data-theme="none" data-shadow="false" data-tolerance="0,0" data-position="right" data-display="reveal">
   				<button class="takePic" data-theme="a" data-icon="grid" style="height:100px;">拍摄照片</button>
    			<button class="getFromPhone" data-theme="a" data-icon="search">选择本地图片</button>
  			</div>
	    </div>
	</body>
</html>